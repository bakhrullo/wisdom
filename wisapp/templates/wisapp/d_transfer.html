{% extends 'wisapp/profile_base.html' %}
{% block url %}
    <a class="nav-item nav-link" href="{% url 'dir_account_status' %}">Home <span class="sr-only">(current)</span></a>
{% endblock %}
{% block headcontent %}
        <style>
            @import url('https://fonts.googleapis.com/css?family=Cinzel|PT+Serif');

            body {
                background-color: floralwhite;
            }
            h2 {
                font-family: "PT Serif";
            }

            #side_panel
            {
                font-size: 16px;
                font-family: "Titillium Web";
                background-color: rgb(170, 95, 57);
                margin-top: -7px;
                margin-left: -10px;
                height: 540px;
                overflow-x: auto;
                overflow-y: auto;
            }

            .side {
                color: aliceblue;
            }
            .side:hover {
                color: mediumaquamarine;
            }
            .warning {
                color: yellow;
            }
            .danger {
                color: #FF8723;
                font-weight: 900;
            }
            .current {
                border: 1px solid;
                padding: 3px;
            }
            .curr_bal {
                font-family: "Cinzel";
                font-weight: 600;
            }

            #side_panel::-webkit-scrollbar {
                width: 7px;
            }
            #side_panel::-webkit-scrollbar:hover {
                width: 12px;
            }
            #side_panel::-webkit-scrollbar-track {
                -webkit-box-shadow: inset 0 0 3px rgba(0,0,0,0.3);
                border-radius: 10px;
            }
            ::-webkit-scrollbar-thumb {
                border-radius: 10px;
                -webkit-box-shadow: inset 0 0 6px rgba(0,0,0,0.5);
            }

            body {font-family: Arial;}

            /* Style the tab */
            .tab {
    display: flex;
    justify-content: flex-star;
    align-items: center;
    margin-top: 40px;
  }

  .tablinks{
         padding: 10px 28px !important;
      -webkit-box-shadow: 4px 4px 72px 15px rgba(34, 60, 80, 0.2);
      -moz-box-shadow: 4px 4px 72px 15px rgba(34, 60, 80, 0.2);
      box-shadow: 4px 4px 72px 15px rgba(34, 60, 80, 0.2);
      margin: 10px  ;
      border-radius: 20px;
  }

             .styled-table {
    border-collapse: collapse;
    margin: 25px 0;
    font-size: 0.9em;
    font-family: sans-serif;
    width: 100%;
    box-shadow: 0 0 20px rgba(0, 0, 0, 0.15);
}


.styled-table thead tr {
    background-color: #009879;
    color: #ffffff;
    text-align: left;
}

.styled-table th,
.styled-table td {
    padding: 12px 10px;
}

.styled-table tbody tr {
    border-bottom: 1px solid #dddddd;
}

.styled-table tbody tr:nth-of-type(even) {
    background-color: #f3f3f3;
}

.styled-table tbody tr:last-of-type {
    border-bottom: 2px solid #FFDF01;
}


.styled-table tbody tr.active-row {
    font-weight: bold;
    color: #009879;
}

            /* Style the buttons inside the tab */
            .tab button {
              background-color: inherit;
              float: left;
              border: none;
              outline: none;
              cursor: pointer;
              padding: 14px 16px;
              transition: 0.3s;
              font-size: 17px;
            }

            /* Change background color of buttons on hover */
            .tab button:hover {
              background-color: #ddd;
            }

            /* Create an active/current tablink class */
            .tab button.active {
              background-color: #ccc;
            }

            /* Style the tab content */
            .tabcontent {
              display: none;
            }
        </style>
        <script>
            window.addEventListener('DOMContentLoaded', function() {
                var select = document.querySelector('#main'),
                hide = document.querySelectorAll('.hide');
                function change()
                {
                    [].forEach.call(hide, function(el) {
                        var add = el.classList.contains(select.value) ? "add" : "remove"
                        el.classList[add]('show');
                    });
                }
                select.addEventListener('change', change);
                  change()
            });
        </script>
{% endblock %}
{% block bodycontent %}
<main>

 <section id="welcome_post" class="col-12">
        <h2>Welcome, {{ content.name }}  {{ content.lastName }}<span id="prof_name"></span> </h2>

        <h4 style="font-weight: 300; ">It's good to have you here.<hr></h4>

        <h1>{{ error }} {{ success }}
           </h1>

          <div class="tab">
    {% for i in grade %}
        <button class="tablinks" onclick="openCity(event, '{{ i }}')">{{ i }}</button>
    {% endfor %}

              </div>
     {% for i in grade %}

  <form  method="post" action="" class="tabcontent" id="{{ i }}">
      {% csrf_token %}
    <table class="styled-table" >
      <tr>
        <td>#</td>
        <td>Name</td>
        <td>Wispoint</td>
      </tr>
        {% for d in pupil %}
        {% if d.grade_p == i %}
      <tr>
        <td hidden><select name="dorz_name" >
            <option value="{{ content.id }}">{{ content.name }}</option>
        </select></td>

        <td hidden><select name="transfer_grade">
            <option value="{{ i.id }}">{{ i }}</option>
        </select></td>
        <td><input class="haha" type="checkbox" value="{{ d.id }}" name="pupil"></td>
        <td>{{ d.name }}  {{ d.lastName }}</td>
        <td>grade:  {{ d.grade_p }}</td>
      </tr>

        {% endif %}
        {% endfor %}

    </table>
        <tr><td><input type="number" name="point" min="1" max="9999"></td></tr>
    <button type="submit">Save</button>
  </form>
        {% endfor %}
    </section>

</main>


{% endblock %}


{% block scriptcontent %}
        <script>
            $(".current").removeClass("current");
            $("#transfer").addClass("current");
            $("input").addClass("form-control");
            $("label").prepend("<br>")
        </script>

        <script>
function openCity(evt, cityName) {
  var i, tabcontent, tablinks;
  tabcontent = document.getElementsByClassName("tabcontent");
  for (i = 0; i < tabcontent.length; i++) {
    tabcontent[i].style.display = "none";
  }
  tablinks = document.getElementsByClassName("tablinks");
  for (i = 0; i < tablinks.length; i++) {
    tablinks[i].className = tablinks[i].className.replace(" active", "");
  }
  document.getElementById(cityName).style.display = "block";
  evt.currentTarget.className += " active";
}

const nodeList= document.querySelectorAll(".haha");
nodeList[0].setAttribute("required", "required");
</script>
{% endblock %}
